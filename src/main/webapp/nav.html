<!-- 顶部导航栏 -->
<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <a class="navbar-brand" href="index.jsp">Back</a>

        <!--   时钟效果     -->
        <p id="clock" class="navbar-text"></p>

        <!--   ajax请求，获取数据，js动态显示     -->
        <ul class="nav navbar-nav navbar-right">
            <li id="img"><img src="img/test.gif" alt="test" class="img-circle"
                              style="width: 28px;height: 28px; margin-top: 10px"></li>
            <li id="login"><a href='login.html'>登陆</a></li>
            <li id="register"><a href='register.html'>注册</a></li>

            <!--      下拉菜单      -->
            <li class="dropdown" id="person">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                   aria-expanded="false"></a>
                <ul class="dropdown-menu">
                    <li><a href="personMessage.html">个人信息</a></li>
                    <li><a href="user/getArticleService">个人博客</a></li>
                    <li><a href="writeBlog.html">写博客</a></li>
                    <li role="separator" class="divider"></li>
                    <li><a href="user/exitUserServlet" id="exit">退出</a></li>
                </ul>
            </li>
        </ul>
    </div><!-- /.navbar-collapse -->
</nav>

<script>
    $("#exit").click(function () {
        $("#login").show();
        $("#register").show();
        $(".dropdown-toggle").html("");
    });
</script>

<script>
    $(function () {
        $.post("user/isLoginServlet", null, function (data) {
            // 是否登陆，有数据已经登陆
            if (data != null) {
                $("#login").hide(); // 隐藏登陆按钮
                $("#register").hide(); // 隐藏注册按钮
                $(".dropdown-toggle").html(data["username"] + "<span class=\"caret\"></span>");
            } else {
                // 没登陆
                $("#person").hide(); // 隐藏个人信息下拉菜单
            }
        });
    });
</script>